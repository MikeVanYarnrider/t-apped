{{!-- <div class="container"> --}}
<br>
<br>

<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <div style="height: 300px; width: 100%; background-image: url({{wellInfo.imageUrls.[0]}}); background-size: cover;  background-repeat:no-repeat;
background-position: center center">
      </div>
      {{!-- <img class="d-block w-100" src="{{wellInfo.imageUrls.[0]}}" alt="First slide"> --}}
    </div>
    {{#each wellInfo.imageUrls}}
    <div class="carousel-item">
      <div style="height: 300px; width: 100%; background-image: url({{this}}); background-size: cover;  background-repeat:no-repeat;
background-position: center center">
      </div>
      {{!-- <img class="d-block w-100" src="{{this}}" alt="First slide"> --}}
    </div>
    {{/each}}
  </div>


  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>






<div id="header" style="word-wrap: break-word;">

  <section class="description">
    <div style="height: 40px; display: flex; flex-direction: row; justify-content: center; align-items: center">
      <img src="/images/star.png" style="height: 100%; margin-right: 5px">
      <h3 style="margin-top: 10px">{{wellInfo.averageRating}}</h3>
    </div>


    <h2>{{wellInfo.name}}</h2>

    {{!-- {{#if wellInfo.averageRating >= 4}}
    <h2>This drinking fountain is very </h2>
    {{/if}} --}}


    {{!--  {{#rate wellInfo.averageRating 4}}{{/rate}} --}}
    <article>
      {{#if wellSummary}}
      <p>{{wellSummary}}{{wellAccessInfo}}{{wellAttractionInfo}}</p>
      {{/if}}
    </article>
  </section>
</div>
<div class="m-3" id="wellInfo" style="word-wrap: break-word;">
  <main>
    <div id="commentSection">
      <h3>Comments</h3>
      <article class="commentEmpty">
        {{#if commentStatus}}
        <p>{{commentStatus}}</p>
        {{/if}}

      </article>
      {{#each wellInfo.comments}}
      <article class="comment">
        <section class="commentHeader">
          <p><b>{{this.userName}}</b> | {{this.date}}</p>
        </section>
        <section class="commentBody">
          <p>{{this.content}}</p>
        </section>
      </article>
      {{/each}}
    </div>

    <form class="form-group" id="writeComment" onsubmit="formSubmit(event)">
      <div>
        <div class="detailsRating">
          <button class="1 emptyStar">s</button>
          <button class="2 emptyStar">s</button>
          <button class="3 emptyStar">s</button>
          <button class="4 emptyStar">s</button>
          <button class="5 emptyStar">s</button>
        </div>
      </div>
      <textarea class="form-control" id="exampleFormControlTextarea1" name="commentCommit" rows="3"></textarea>
      <button class="btn btn-primary" id="sendButton" type="submit">Send</button>
    </form>

    <a href="/wells/{{wellInfo._id}}/report">
      <button type="button" class="btn btn-primary bg-warning" id="reportButtonWell"><img
          src="../images/maintenance_black.png">Fountain-Report ?</button>
    </a>
  </main>
</div>
{{!-- </div> --}}
<script>


  let t = {{ wellInfo.averageRating }}
  let user = "{{ loggedinUser.username }}"
  console.log(user)

  let timeStamp = `${new Date().getHours()}:${new Date().getMinutes()} ${new Date().getDay()}.${new Date().getMonth()}.${new Date().getFullYear()}`
  console.log(timeStamp)

  let userRating = 3;


  //document.getElementById('writeComment').onsubmit = () => {
  const formSubmit = (e) => {
    e.preventDefault()
    // event.preventDefault(); // prevents the default behaviour of the form
    console.log("submit")
    axios.post("/wellInfo/{{wellInfo._id}}/comment", {
      content: document.getElementById('exampleFormControlTextarea1').value,
      rating: userRating,
      time: timeStamp
    })
      .then(response => {
        console.log(response.status)
        if (response.status === 200) {
          console.log(response.data)

          location.reload()
        }
      }).catch(err => {
        console.log(err);
      })
  }




</script>